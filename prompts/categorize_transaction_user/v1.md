Categorize this transaction by analyzing its PRIMARY PURPOSE and CONTEXT.

## Available Categories (choose from these ONLY):
{% for category in user_categories %}
- {{ category }}
{% endfor %}

## Transaction Information:
Description: {{ transaction.description }}
Amount: {{ transaction.amount }} {{ transaction.currency }}
Type: {{ transaction.type }}
Date: {{ transaction.date }}

Reference (bank's original category): {{ transaction.raw_category }}

## Categorization Instructions:
1. **Analyze the context**: What was the PRIMARY PURPOSE of this transaction?
   - Is this a social/entertainment activity? (meeting friends, celebration, leisure)
   - Is this a routine necessity? (daily coffee, groceries, commute)
   - Is this a special occasion? (birthday, date night, event)
   
2. **Match to available categories**: Choose the category that best represents the PRIMARY PURPOSE
   - "Coffee with friends" → Entertainment (if available) because it's primarily social
   - "Morning coffee" → Food (if available) because it's primarily sustenance
   - "Restaurant celebration" → Entertainment (if available) because it's primarily an event
   
3. **If no good match**: Suggest a contextually appropriate category with "_MISSING" suffix

4. **Provide confidence** (0.0-1.0) based on how clear the context and purpose are

Think about WHY this purchase was made, not just WHAT was purchased.